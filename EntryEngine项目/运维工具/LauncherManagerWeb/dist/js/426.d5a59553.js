"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[426],{7388:function(e,t,o){o.d(t,{Z:function(){return d}});var s=o(3396),i=o(7139);const n=e=>((0,s.dD)("data-v-3dc945be"),e=e(),(0,s.Cn)(),e),l={key:0},a=n((()=>(0,s._)("option",{class:"optitle"},"选择命令",-1))),c=["value"];function h(e,t,o,n,h,r){const m=(0,s.up)("van-field"),u=(0,s.up)("van-form"),d=(0,s.up)("van-dialog");return(0,s.wg)(),(0,s.j4)(d,{width:"15rem",show:h.commandShow,"onUpdate:show":t[2]||(t[2]=e=>h.commandShow=e),title:"命令","before-close":r.commandClose,"show-cancel-button":""},{title:(0,s.w5)((()=>[0==h.commands.length?((0,s.wg)(),(0,s.iD)("span",l,"命令")):(0,s.kq)("",!0),h.commands.length>0?((0,s.wg)(),(0,s.iD)("select",{key:1,ref:"select",onChange:t[0]||(t[0]=(...e)=>r.selectCommand&&r.selectCommand(...e))},[a,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(h.commands,((e,t)=>((0,s.wg)(),(0,s.iD)("option",{class:"op",value:e},(0,i.zw)(e),9,c)))),256))],544)):(0,s.kq)("",!0)])),default:(0,s.w5)((()=>[(0,s.Wm)(u,{"label-width":"4rem",onSubmit:e.onSubmitCommand,ref:"commandFrom","validate-trigger":"onSubmit"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{modelValue:h.commandFrom.LaunchCommand,"onUpdate:modelValue":t[1]||(t[1]=e=>h.commandFrom.LaunchCommand=e),name:"LaunchCommand",label:"执行命令",type:"textarea",rows:"10",placeholder:"输入命令",rules:[{required:!0,message:"请输入命令"}]},null,8,["modelValue"])])),_:1},8,["onSubmit"])])),_:1},8,["show","before-close"])}var r={name:"CommandComponent",components:{},props:{chooseList:Array,show:{type:Boolean,default:!1}},data(){return{commandShow:!1,commandFrom:{LaunchCommand:""},commands:[]}},computed:{},watch:{show:function(e){this.commandShow=e,this.commandFrom.LaunchCommand="",e&&this.getCommands()}},methods:{commandClose(e,t){return"confirm"==e?new Promise((e=>{this.$IMBSProxy.CallCommand(this.chooseList,this.commandFrom.LaunchCommand,(e=>{e&&(this.$Toast("操作成功"),this.$emit("submit"),this.$emit("close"))})).then((()=>e(!0))).catch((()=>e(!1)))})):(this.$emit("close"),!0)},getCommands(){this.$IMBSProxy.GetCommands(this.chooseList[0],(e=>this.commands=e))},getCommandsList(){return console.log("getCommandsList",this.$refs.dd),this.commands},selectCommand(){const e=this.$refs.select;console.log("selectCommand",e.options[e.selectedIndex]),e.selectedIndex>0&&(this.commandFrom.LaunchCommand+=e.options[e.selectedIndex].value+"\r\n",e.selectedIndex=0)}},mounted(){}},m=o(89);const u=(0,m.Z)(r,[["render",h],["__scopeId","data-v-3dc945be"]]);var d=u},5471:function(e,t,o){o.d(t,{Z:function(){return w}});var s=o(3396),i=o(9242),n=o(7139);const l=e=>((0,s.dD)("data-v-d9de0d1c"),e=e(),(0,s.Cn)(),e),a={class:"float-btn"},c={class:"btn-list"},h=l((()=>(0,s._)("span",null,"置顶",-1))),r=[h],m=["onClick"],u=l((()=>(0,s._)("span",null,"触底",-1))),d=[u];function p(e,t,o,l,h,u){const p=(0,s.up)("van-icon");return(0,s.wg)(),(0,s.iD)("div",a,[(0,s._)("div",c,[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{class:"btn",key:"float-btn-top",onClick:t[0]||(t[0]=(0,i.iM)((e=>u.choose("goTop")),["stop"]))},r)),[[i.F8,o.goTop]]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.showList,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"btn",key:"float-btn-"+t,onClick:(0,i.iM)((o=>u.choose(t,e)),["stop"])},[(0,s._)("span",null,(0,n.zw)(e),1)],8,m)))),128)),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{class:"btn",key:"float-btn-bottom",onClick:t[1]||(t[1]=(0,i.iM)((e=>u.choose("goBottom")),["stop"]))},d)),[[i.F8,o.goBottom]])]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{class:"btn",key:"float-btn-more",onClick:t[2]||(t[2]=(0,i.iM)((e=>h.showMore=!h.showMore),["stop"]))},[(0,s.Wm)(p,{name:h.showMore?"arrow-up":"arrow-down"},null,8,["name"])])),[[i.F8,u.hidden]])])}var g={components:{},props:{list:Array,showNum:{type:Number,default:3},goTop:Boolean,goBottom:Boolean},data(){return{showMore:!1}},computed:{hidden(){return this.list&&this.list.length>this.showNum},showList(){let e=[],t=this.list?this.list.length:0;!this.showMore&&this.showNum<t&&(t=this.showNum);for(let o=0;o<t;o++)e.push(this.list[o]);return e}},methods:{choose(e,t){this.$emit("choose",e,t)}},mounted(){}},f=o(89);const v=(0,f.Z)(g,[["render",p],["__scopeId","data-v-d9de0d1c"]]);var w=v},825:function(e,t,o){o.d(t,{Z:function(){return u}});var s=o(3396),i=o(9242),n=o(7139);const l=["id"],a=["onClick"];function c(e,t,o,c,h,r){const m=(0,s.up)("van-field"),u=(0,s.up)("van-icon");return(0,s.wg)(),(0,s.iD)("div",{class:"input-select",id:"inputSelect"+r.id,key:"input-select-"+r.id,onClick:t[3]||(t[3]=(0,i.iM)((()=>{}),["stop"]))},[(0,s.Wm)(m,{modelValue:h.inputValue,"onUpdate:modelValue":t[0]||(t[0]=e=>h.inputValue=e),name:o.name,label:o.label,placeholder:o.placeholder,rules:o.rules,onFocus:t[1]||(t[1]=e=>r.inputFocus()),onBlur:t[2]||(t[2]=e=>r.inputBlur())},null,8,["modelValue","name","label","placeholder","rules"]),(0,s.wy)((0,s._)("div",{class:"list",style:(0,n.j5)("top"==o.listPosition?"bottom: "+h.inputSelectHeight+"px;":null)},[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.searchList,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:"input-select-"+r.id+"-list-"+ +t,onClick:(0,i.iM)((e=>r.select(t)),["stop"])},[(0,s._)("span",null,(0,n.zw)(o.listKey?e[o.listKey]:e),1),(0,s.wy)((0,s.Wm)(u,{name:"cross",onClick:(0,i.iM)((e=>r.del(t)),["stop"])},null,8,["onClick"]),[[i.F8,1!=o.inputType]])],8,a)))),128))])],4),[[i.F8,h.showList]])],8,l)}var h={name:"InputSelect",components:{},props:{value:{type:String},inputType:{type:Number,default:0,validator:function(e){return[0,1].includes(e)}},search:{type:Boolean,default:!0},name:{type:String},label:{type:String},placeholder:{type:String},rules:{type:Array},list:{type:Array},listKey:String,bindKey:String,listPosition:{type:String,default:"bottom",validator:function(e){return["bottom","top"].includes(e)}}},data(){return{inputValue:"",showList:!1,showListEnable:!0,bindValue:"",inputSelectHeight:44,isSelect:!1}},computed:{id(){return this._uid},searchList(){if(this.search){let e=this.list.filter((e=>{const t=this.listKey?e[this.listKey]:e;return!!t&&-1!=t.indexOf(this.inputValue)}));return e}return this.list}},watch:{value:function(e){!this.isSelect&&(this.inputValue=e),this.isSelect=!1},inputValue:function(e){this.$emit("update:model-value",this.bindKey?this.bindValue:e)}},methods:{inputFocus(){document.body.click(),this.setInputSelectHeight(),this.showList=!0},inputBlur(){1==this.inputType&&(this.inputValue="")},del(e){console.log("del",e),this.$emit("del",e)},select(e){this.setInputSelectHeight(),this.showList=!1,this.bindValue=this.bindKey?this.list[e][this.bindKey].toString():this.list[e],this.inputValue=this.listKey?this.list[e][this.listKey]:this.list[e],this.isSelect=!0,this.$emit("onselect",this.bindKey?this.bindValue:this.inputValue)},setInputSelectHeight(){this.$nextTick().then((()=>{setTimeout((()=>{this.inputSelectHeight=document.getElementById("inputSelect"+this.id).clientHeight}),500)}))}},mounted(){this.$nextTick((()=>{document.body.addEventListener("click",(()=>{this.showList=!1}))}))}},r=o(89);const m=(0,r.Z)(h,[["render",c],["__scopeId","data-v-0fc48a88"]]);var u=m},5001:function(e,t,o){o.d(t,{Z:function(){return m}});var s=o(3396),i=o(7139);const n={class:"nav"},l={class:"title"};function a(e,t,o,a,c,h){const r=(0,s.up)("van-icon"),m=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",n,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.nav,(e=>((0,s.wg)(),(0,s.j4)(m,{key:e.title,to:e.url,class:(0,i.C_)("item "+h.isSelected(e))},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{name:e.icon,size:"1.5rem",class:"icon"},null,8,["name"]),(0,s._)("span",l,(0,i.zw)(e.title),1)])),_:2},1032,["to","class"])))),128))])}var c={data(){return{nav:[{title:"服务",url:"/services",icon:"desktop-o"},{title:"管理",url:"/mine",icon:"manager-o"}]}},methods:{isSelected(e){return location.pathname==e.url?"selected":"unselected"}}},h=o(89);const r=(0,h.Z)(c,[["render",a],["__scopeId","data-v-03a95443"]]);var m=r},97:function(e,t,o){o.d(t,{Z:function(){return f}});var s=o(3396),i=o(9242),n=o(7139);const l={class:"table"},a={align:"left"},c={key:0,class:"selector"},h=["onClick"],r=["onClick"],m=["innerHTML"];function u(e,t,o,u,d,p){const g=(0,s.up)("van-checkbox");return(0,s.wg)(),(0,s.iD)("table",l,[(0,s._)("thead",null,[(0,s._)("tr",a,[o.choose?((0,s.wg)(),(0,s.iD)("th",c)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(p.thead,((e,t)=>((0,s.wg)(),(0,s.iD)("th",{key:"thead-"+t,onClick:(0,i.iM)((e=>p.clickTile(t)),["stop"]),style:(0,n.j5)(o.theadStyle?o.theadStyle[t]:null)},(0,n.zw)(e),13,h)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.list,((e,l)=>((0,s.wg)(),(0,s.iD)("tr",{align:"left",valign:"top",key:"tbody-"+l,onClick:(0,i.iM)((t=>p.clickRow(e)),["stop"])},[o.choose?((0,s.wg)(),(0,s.iD)("td",{key:0,onClick:t[0]||(t[0]=(0,i.iM)((()=>{}),["stop"])),style:{padding:"0"}},[(0,s.Wm)(g,{style:{"justify-content":"center",padding:"10px 5px"},modelValue:d.chooseValues[l],"onUpdate:modelValue":e=>d.chooseValues[l]=e,onClick:(0,i.iM)((e=>p.onChoose(l)),["stop"])},null,8,["modelValue","onUpdate:modelValue","onClick"])])):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(p.tbody,((t,i)=>((0,s.wg)(),(0,s.iD)("td",{key:"tbody-td-"+i,innerHTML:e[t],style:(0,n.j5)(o.tbodyStyle?o.tbodyStyle[i]:null)},null,12,m)))),128))],8,r)))),128))])])}var d={components:{},props:{list:Array,option:Object,choose:{type:Number,default:0,validator:function(e){return[0,1,2].includes(e)}},theadStyle:Object,tbodyStyle:Object},data(){return{chooseValues:[],chooseList:[],nextChoose:null}},computed:{thead(){let e=[];for(const t in this.option)e.push(t);return e},tbody(){let e=[];for(const t in this.option)e.push(this.option[t]);return e},selected(){let e=[];for(let t=0;t<this.chooseValues.length;t++)this.chooseValues[t]&&e.push(this.list[t]);return e}},watch:{list:{handler:function(e){console.log("table",e)},deep:!0}},methods:{clickRow(e){this.$emit("clickRow",e)},onChoose(e){console.log("点击选择",e,this.chooseValues),1==this.choose&&(console.log("单选",this.nextChoose),this.nextChoose!=e&&(null!=this.nextChoose&&(this.chooseValues[this.nextChoose]=!1),this.nextChoose=e)),this.chooseList=[];for(const t in this.chooseValues)this.chooseValues[t]&&this.chooseList.push(t);this.$emit("chooseClick",this.chooseList),this.$forceUpdate()},initChooseValues(){let e=[];if(this.choose&&this.list.length)for(let t=0;t<this.list.length;t++,e.push(!1));this.chooseValues=e},clearChoose(){if(this.choose&&this.list.length)for(let e=0;e<this.list.length;e++)this.chooseValues[e]=!1;this.chooseList=[],this.$forceUpdate()},verifyChoose(e){return new Promise(((t,o)=>{this.chooseList.length?t():(this.$Toast(e||"请选择数据"),o())}))},clickTile(e){this.$emit("clickTile",e)}},mounted(){this.initChooseValues(),console.log("props---\x3e",this.$props)}},p=o(89);const g=(0,p.Z)(d,[["render",u],["__scopeId","data-v-73baa144"]]);var f=g},9426:function(e,t,o){o.r(t),o.d(t,{default:function(){return g}});var s=o(3396);const i={class:"container"};function n(e,t,o,n,l,a){const c=(0,s.up)("Table"),h=(0,s.up)("van-pull-refresh"),r=(0,s.up)("van-field"),m=(0,s.up)("input-select"),u=(0,s.up)("van-form"),d=(0,s.up)("van-dialog"),p=(0,s.up)("Command"),g=(0,s.up)("FloatBtn"),f=(0,s.up)("van-action-sheet"),v=(0,s.up)("Nav");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(h,{modelValue:l.isLoading,"onUpdate:modelValue":t[0]||(t[0]=e=>l.isLoading=e),onRefresh:t[1]||(t[1]=e=>a.getServers(!0))},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{ref:"table",list:a.filterServices,option:{"名称":"newName","服务版本":"info","状态":"state"},theadStyle:{0:"cursor: pointer",1:"cursor: pointer",2:"cursor: pointer"},tbodyStyle:{0:"cursor: pointer",1:"cursor: pointer",2:"cursor: pointer"},choose:2,onChooseClick:a.chooseClick,onClickTile:a.clickTile,onClickRow:a.clickRow,rowPointer:!0},null,8,["list","onChooseClick","onClickTile","onClickRow"])])),_:1},8,["modelValue"]),(0,s.Wm)(d,{width:"15rem",show:l.dialog.show,"onUpdate:show":t[7]||(t[7]=e=>l.dialog.show=e),title:l.dialog.title,"before-close":a.dialogClose,"show-cancel-button":""},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{"label-width":"4rem",ref:"from"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{modelValue:l.from.Name,"onUpdate:modelValue":t[2]||(t[2]=e=>l.from.Name=e),name:"Name",label:"名称",rules:[{required:!0,message:"请填写名称"}]},null,8,["modelValue"]),(0,s.Wm)(m,{modelValue:l.from.Server,"onUpdate:modelValue":t[3]||(t[3]=e=>l.from.Server=e),name:"Server",label:"服务器",rules:[{required:!0,message:"请选择服务器"}],inputType:1,list:l.list,listKey:"NickName",bindKey:"ID"},null,8,["modelValue","list"]),(0,s.Wm)(m,{modelValue:l.from.ServerType,"onUpdate:modelValue":t[4]||(t[4]=e=>l.from.ServerType=e),name:"ServerType",label:"服务类型",rules:[{required:!0,message:"请选择服务类型"}],inputType:1,list:l.serverTypeList,listKey:"Name",onOnselect:a.chooseServiceType},null,8,["modelValue","list","onOnselect"]),(0,s.Wm)(r,{modelValue:l.from.Exe,"onUpdate:modelValue":t[5]||(t[5]=e=>l.from.Exe=e),name:"Exe",label:"启动程序"},null,8,["modelValue"]),(0,s.Wm)(r,{modelValue:l.from.LaunchCommand,"onUpdate:modelValue":t[6]||(t[6]=e=>l.from.LaunchCommand=e),name:"LaunchCommand",label:"启动命令",type:"textarea",rows:"10"},null,8,["modelValue"])])),_:1},512)])),_:1},8,["show","title","before-close"]),(0,s.Wm)(d,{width:"15rem",show:l.changeShow,"onUpdate:show":t[10]||(t[10]=e=>l.changeShow=e),title:"修改","before-close":a.changeClose,"show-cancel-button":""},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{"label-width":"4rem",ref:"changeFrom"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{modelValue:l.changeFrom.Exe,"onUpdate:modelValue":t[8]||(t[8]=e=>l.changeFrom.Exe=e),name:"Exe",label:"启动程序",placeholder:"输入.exe程序"},null,8,["modelValue"]),(0,s.Wm)(r,{modelValue:l.changeFrom.LaunchCommand,"onUpdate:modelValue":t[9]||(t[9]=e=>l.changeFrom.LaunchCommand=e),name:"LaunchCommand",label:"启动命令",type:"textarea",rows:"10",placeholder:"输入命令",rules:[{required:!0,message:"请输入命令"}]},null,8,["modelValue"])])),_:1},512)])),_:1},8,["show","before-close"]),(0,s.Wm)(p,{show:l.commandShow,chooseList:l.chooseList,onClose:t[11]||(t[11]=e=>l.commandShow=!1),onSubmit:t[12]||(t[12]=e=>a.getServers(!0))},null,8,["show","chooseList"]),(0,s.Wm)(g,{showNum:"5",list:["刷新","更新","停止","启动","命令","添加","修改","删除"],onChoose:a.chooseFloatBtn},null,8,["onChoose"]),(0,s.Wm)(f,{show:l.actionsShow,"onUpdate:show":t[13]||(t[13]=e=>l.actionsShow=e),actions:l.actionsList,onSelect:a.onSelect},null,8,["show","actions","onSelect"]),(0,s.Wm)(v)])}var l=o(5001),a=o(5471),c=o(97),h=o(7388),r=o(825),m=o(4733),u={components:{Nav:l.Z,FloatBtn:a.Z,Table:c.Z,InputSelect:r.Z,Command:h.Z},data(){return{list:[],services:[],isLoading:!1,dialog:{title:"添加",show:!1,type:"add"},from:{Name:"",Server:"",ServerType:"",Exe:"",LaunchCommand:""},serverTypeList:[],chooseList:[],chooseListNewName:[],chooseListIndex:[],commandShow:!1,changeShow:!1,changeFrom:{Exe:"",LaunchCommand:""},actionsShow:!1,actionsList:[{name:"全部"}],chooseType:""}},computed:{filterServices(){let e=this.services.filter((e=>e.Type==this.chooseType||"全部"==this.chooseType));return e}},methods:{getServers(e){this.$IMBSProxy.GetServers((t=>{console.log("list",t),e&&(this.isLoading=!1,this.services=[],this.actionsList=[]);for(const e in t)t[e].NickName=t[e].NickName?t[e].NickName:t[e].EndPoint;this.list=t;for(const e of t)for(const t in e.Services){let o=e.Services[t];o.newName=`${o.Name} (${e.NickName})`,o.info=`${o.Type} <span style="color:${o.Revision==o.RevisionOnServer?"green":"red"}">(${o.Revision} / ${o.RevisionOnServer})</span>`;const s={0:{name:"停止",color:"red"},1:{name:"启动",color:"orange"},2:{name:"运行",color:"green"}};o.state=`<span style="color:${s[o.Status].color}">${s[o.Status].name}</span>`;let i=-1;for(const e in this.services)if(this.services[e].newName==o.newName){i=e;break}-1!=i?(console.log("修改已有服务",i),this.services[i]=o):this.services.push(o)}console.log("this",this)}))},chooseFloatBtn(e,t){switch(console.log("chooseFloatBtn",e,t),e){case 0:this.$IMBSProxy.UpdateServer((e=>this.getServers()));break;case 1:this.$refs.table.verifyChoose().then((()=>{this.$IMBSProxy.UpdateService(this.chooseList,(e=>{this.$Toast("更新成功"),this.getServers(!1),setTimeout((()=>this.getServers(!1)),500),setTimeout((()=>this.getServers(!1)),1e3),setTimeout((()=>this.getServers(!1)),2e3),setTimeout((()=>this.getServers(!1)),3e3)}))})).catch((()=>{}));break;case 2:this.$refs.table.verifyChoose().then((()=>{this.$Dialog.confirm({message:"是否停止所选服务"}).then((()=>{this.$IMBSProxy.StopService(this.chooseList,(e=>{e&&(this.$Toast("停止成功"),setTimeout((()=>this.getServers(!1)),500),setTimeout((()=>this.getServers(!1)),1e3),setTimeout((()=>this.getServers(!1)),2e3),setTimeout((()=>this.getServers(!1)),3e3))}))})).catch((()=>{}))})).catch((()=>{}));break;case 3:this.$refs.table.verifyChoose().then((()=>{this.$IMBSProxy.LaunchService(this.chooseList,(e=>{e&&(this.$Toast("启动成功"),setTimeout((()=>this.getServers(!1)),500),setTimeout((()=>this.getServers(!1)),1e3),setTimeout((()=>this.getServers(!1)),2e3),setTimeout((()=>this.getServers(!1)),3e3))}))})).catch((()=>{}));break;case 4:this.$refs.table.verifyChoose().then((()=>this.commandShow=!0)).catch((()=>{}));break;case 5:this.from=JSON.parse(JSON.stringify(this.$options.data().from)),this.dialog.show=!0;break;case 6:this.$refs.table.verifyChoose().then((()=>{this.changeFrom=JSON.parse(JSON.stringify(this.$options.data().changeFrom));let e=[];for(const o of this.chooseListIndex)e.push(this.filterServices[o]);let t=e.every((t=>t.LaunchCommand==e[0].LaunchCommand));t&&(this.changeFrom.LaunchCommand=e[0].LaunchCommand),t=e.every((t=>t.Exe==e[0].Exe)),t&&(this.changeFrom.Exe=e[0].Exe),this.changeShow=!0})).catch((()=>{}));break;case 7:this.$refs.table.verifyChoose().then((()=>{this.$Dialog.confirm({message:"是否确定删除"}).then((()=>{this.$IMBSProxy.DeleteService(this.chooseList,(e=>{e&&(this.$Toast("删除成功"),this.getServers(!0))}))})).catch((()=>{}))})).catch((()=>{}));break}},chooseServiceType(e){let t;for(const o of this.serverTypeList)if(o.Name==e){t=o;break}t&&(this.from.Exe=t.Exe,this.from.LaunchCommand=t.LaunchCommand)},dialogClose(e){return"confirm"!=e||new Promise((e=>{this.$IMBSProxy.NewService(this.from.Server,this.from.ServerType,this.from.Name,this.from.Exe,this.from.LaunchCommand,(e=>{this.$Toast(this.dialog.title+"成功"),this.dialog.show=!1,this.getServers(!0)})).then((()=>e(!0))).catch((()=>e(!1)))}))},changeClose(e){return"confirm"!=e||new Promise((e=>{this.$IMBSProxy.SetServiceLaunchCommand(this.chooseList,this.changeFrom.Exe,this.changeFrom.LaunchCommand,(e=>{e&&(this.$Toast("操作成功"),this.changeShow=!1,this.getServers(!1))})).then((()=>e(!0))).catch((()=>e(!1)))}))},getServiceType(){this.$IMBSProxy.GetServiceType((e=>{this.serverTypeList=e;for(const t of e)this.actionsList.push({name:t.Name});this.setChooseTypeColor()}))},chooseClick(e){console.log("chooseClick",e),this.chooseListIndex=e,this.chooseList=[],this.chooseListNewName=[];for(const t of e)this.chooseList.push(this.filterServices[t].Name),this.chooseListNewName.push(this.filterServices[t].newName);console.log(this.chooseListNewName)},clickTile(e){console.log("clickTile",e),1==e&&(this.actionsShow=!0)},onSelect(e){console.log("onSelect",e),m.Z.serviceTypeSet(e.name),this.chooseType=e.name,this.setChooseTypeColor(),this.actionsShow=!1},setChooseTypeColor(e=this.chooseType){console.log("setChooseTypeColor---\x3e",e);for(const t in this.actionsList)this.actionsList[t].name==e?this.actionsList[t].color="#1989fa":this.actionsList[t].color=void 0},clickRow(e){console.log("clickRow----\x3e",e.Name),this.$router.push({path:"/serviceLog",query:{name:e.Name}})}},mounted(){this.getServers(),this.getServiceType(),this.chooseType=m.Z.serviceTypeGet()?m.Z.serviceTypeGet():"全部"}},d=o(89);const p=(0,d.Z)(u,[["render",n],["__scopeId","data-v-c0a723fc"]]);var g=p}}]);